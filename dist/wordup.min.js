!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.WordUp=t()}(this,function(){"use strict";var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=function(){function n(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];e(this,n),this.ctx=t,this.options=r,this.tagName="unwrap",this.elements=n.contextToArray(t),this.original=this.backup()}return t(n,[{key:"backup",value:function(){var e=[];return this.elements.forEach(function(t){e.push(t.innerHTML)}),e}},{key:"filterNodes",value:function(e){for(var t=[],n=void 0,r=void 0,o=0;o<e.length;o+=1)r=e[o],n=r.tagName?r.tagName.toLowerCase():"",this.opt.exclude.includes(n)||t.push(r);return t}},{key:"wrap",value:function(e){var t=this,r=n.textContent(e),o=document.createElement(this.tagName),i=r.split(this.opt.splitter);return i=i.map(function(e){return t.opt.regex.test(e)?t.opt.template(e):e}),i=i.join(this.opt.joiner),o.innerHTML=i,o}},{key:"wrapper",value:function(e){for(var t=this.filterNodes(e.childNodes),n=void 0,r=0;r<t.length;r+=1)if(n=t[r],n.nodeType===n.TEXT_NODE&&n.nodeValue.trim().length){var o=this.wrap(n);n.parentNode.insertBefore(o,n),n.parentNode.removeChild(n)}else this.wrapper(n)}},{key:"destroy",value:function(){var e=this;this.elements.forEach(function(t,n){t.innerHTML=e.original[n]})}},{key:"init",value:function(e){var t=this;this.elements.forEach(function(e){t.wrapper(e),n.unwrapper(e,t.tagName)}),"function"==typeof e&&e(this.elements)}},{key:"options",set:function(e){var t=this;this.opt=Object.assign({},{baseClass:"wu",regex:/\w/,splitter:" ",joiner:" ",exclude:["a","button"],template:function(e){return'<span class="'+t.opt.baseClass+'">'+e+"</span>"}},e)},get:function(){return this.opt}}],[{key:"contextToArray",value:function(e){var t=void 0;return e?e instanceof window.HTMLElement?t=[e]:{}.isPrototypeOf.call(window.NodeList,e)&&(t=Array.prototype.slice.call(e)):t=[],t}},{key:"textContent",value:function(e){return e.textContent||e.innerText}},{key:"unwrap",value:function(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}},{key:"unwrapper",value:function(e,t){for(var r=e.childNodes,o=0;o<r.length;o+=1){var i=r[o];i.tagName&&i.tagName.toLowerCase()===t?n.unwrap(i):n.unwrapper(i,t)}}}]),n}();return n});
