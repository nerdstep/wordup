!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.WordUp=e()}(this,function(){"use strict";var t=function(t,e){void 0===e&&(e={}),this.ctx=t,this.options=e,this.tagName="unwrap",this.elements=this.getElements(),this.original=this.backup()},e={options:{}};return e.options.set=function(t){var e=this;this.opt=Object.assign({},{baseClass:"wu",regex:/\w/,splitter:" ",joiner:" ",exclude:["a","button"],template:function(t){return'<span class="'+e.opt.baseClass+'">'+t+"</span>"}},t)},e.options.get=function(){return this.opt},t.prototype.backup=function(){var t=[];return this.elements.forEach(function(e){t.push(e.innerHTML)}),t},t.prototype.getElements=function(){var t;return t="undefined"==typeof this.ctx?[]:this.ctx instanceof HTMLElement?[this.ctx]:Array.isArray(this.ctx)?this.ctx:Array.prototype.slice.call(this.ctx)},t.prototype.getText=function(t){return t.textContent||t.innerText},t.prototype.filterNodes=function(t){for(var e,n,o=this,r=[],i=0;i<t.length;++i)n=t[i],e=n.tagName?n.tagName.toLowerCase():"",o.opt.exclude.includes(e)||r.push(n);return r},t.prototype.wrap=function(t){var e=this,n=this.getText(t),o=document.createElement(this.tagName),r=n.split(this.opt.splitter);return r=r.map(function(t){return e.opt.regex.test(t)?e.opt.template(t):t}),r=r.join(this.opt.joiner),o.innerHTML=r,o},t.prototype.wrapper=function(t){for(var e,n=this,o=this.filterNodes(t.childNodes),r=0;r<o.length;++r)if(e=o[r],e.nodeType===e.TEXT_NODE&&e.nodeValue.trim().length){var i=n.wrap(e);e.parentNode.insertBefore(i,e),e.parentNode.removeChild(e)}else n.wrapper(e)},t.prototype.unwrap=function(t){for(var e=t.parentNode;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)},t.prototype.unwrapper=function(t){for(var e=this,n=t.childNodes,o=0;o<n.length;++o){var r=n[o];r.tagName&&r.tagName.toLowerCase()===e.tagName?e.unwrap(r):e.unwrapper(r)}},t.prototype.destroy=function(){var t=this;this.elements.forEach(function(e,n){e.innerHTML=t.original[n]})},t.prototype.init=function(t){var e=this;this.elements.forEach(function(t){e.wrapper(t),e.unwrapper(t)}),"function"==typeof t&&t(this.elements)},Object.defineProperties(t.prototype,e),t});